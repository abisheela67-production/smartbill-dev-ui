<div class="form-container">
  <h5>Purchase Order Filters</h5>

  <div class="form-grid">
    
    <!-- Company Filter -->
    <div class="form-column">
      <label class="form-label">Company</label>
      <select
        class="form-select"
        [(ngModel)]="filters.companyId"
        (change)="onCompanyChange()"
      >
        <option [ngValue]="null">-- Select Company --</option>
        <option *ngFor="let c of companies" [ngValue]="c.companyID">
          {{ c.companyName }}
        </option>
      </select>
    </div>

    <!-- Branch Filter -->
    <div class="form-column">
      <label class="form-label">Branch</label>
      <select
        class="form-select"
        [(ngModel)]="filters.branchId"
        (change)="onFilterChange()"
      >
        <option [ngValue]="null">-- Select Branch --</option>
        <option *ngFor="let b of branches" [ngValue]="b.branchID">
          {{ b.branchName }}
        </option>
      </select>
    </div>

    <!-- Supplier Filter -->
    <div class="form-column">
      <label class="form-label">Supplier</label>
      <select
        class="form-select"
        [(ngModel)]="filters.supplierId"
        (change)="onFilterChange()"
      >
        <option [ngValue]="null">-- Select Supplier --</option>
        <option *ngFor="let s of suppliers" [ngValue]="s.supplierID">
          {{ s.supplierName }}
        </option>
      </select>
    </div>

    <!-- PO Date Filter -->
    <div class="form-column">
      <label class="form-label">PO Date</label>
      <input
        type="date"
        class="form-control"
        [(ngModel)]="filters.poDate"
        (change)="onFilterChange()"
      />
    </div>

  </div>

  <!-- Action Buttons -->
  <div class="mt-3 d-flex gap-2">
    <button class="btn btn-primary w-100" (click)="onFilterChange()">Search</button>
    <button class="btn btn-secondary w-100" (click)="resetFilters()">Reset</button>
  </div>
</div>

<!-- RESULT TABLE -->
<div class="card p-3 shadow-sm mt-4">
  <h5 class="mb-3">Purchase Order List</h5>

  <app-view-datatable
    [columns]="tableColumns"
    [data]="purchaseEntry"
    [loading]="false"
  >
  </app-view-datatable>
</div>
